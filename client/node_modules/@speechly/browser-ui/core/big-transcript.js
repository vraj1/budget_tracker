!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e}function l(t){return 0===Object.keys(t).length}function d(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const u="undefined"!=typeof window;let h=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&f(g)}function m(t){let e;return 0===p.size&&f(g),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}function $(t,e){t.appendChild(e)}function y(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function b(t){const e=T("style");return v(y(t),e),e.sheet}function v(t,e){return $(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function T(t){return document.createElement(t)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function C(){return S(" ")}function k(){return S("")}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function P(t,e,n){t.classList[n?"add":"remove"](e)}function O(t){const e={};for(const n of t)e[n.name]=n.value;return e}const N=new Map;let R,F=0;function z(t,e,n,o,r,i,s,c=0){const a=16.666/o;let l="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*i(t);l+=100*t+`%{${s(o,1-o)}}\n`}const d=l+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${c}`,h=y(t),{stylesheet:f,rules:p}=N.get(h)||function(t,e){const n={stylesheet:b(e),rules:{}};return N.set(t,n),n}(h,t);p[u]||(p[u]=!0,f.insertRule(`@keyframes ${u} ${d}`,f.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${u} ${o}ms linear ${r}ms 1 both`,F+=1,u}function I(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),F-=r,F||f((()=>{F||(N.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&x(e)})),N.clear())})))}function D(t){R=t}function B(){if(!R)throw new Error("Function called outside component initialization");return R}const M=[],L=[],j=[],H=[],U=Promise.resolve();let V=!1;function W(t){j.push(t)}const q=new Set;let X,K=0;function Y(){if(0!==K)return;const t=R;do{try{for(;K<M.length;){const t=M[K];K++,D(t),Z(t.$$)}}catch(t){throw M.length=0,K=0,t}for(D(null),M.length=0,K=0;L.length;)L.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];q.has(e)||(q.add(e),e())}j.length=0}while(M.length);for(;H.length;)H.pop()();V=!1,q.clear(),D(t)}function Z(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}function G(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const J=new Set;let Q;function tt(t,e){t&&t.i&&(J.delete(t),t.i(e))}const et={duration:0};function nt(n,o,r){const i={direction:"in"};let c,a,l=o(n,r,i),d=!1,u=0;function f(){c&&I(n,c)}function p(){const{delay:o=0,duration:r=300,easing:i=e,tick:s=t,css:p}=l||et;p&&(c=z(n,0,1,r,o,i,p,u++)),s(0,1);const g=h()+o,$=g+r;a&&a.abort(),d=!0,W((()=>G(n,!0,"start"))),a=m((t=>{if(d){if(t>=$)return s(1,0),G(n,!0,"end"),f(),d=!1;if(t>=g){const e=i((t-g)/r);s(e,1-e)}}return d}))}let g=!1;return{start(){g||(g=!0,I(n),s(l)?(l=l(i),(X||(X=Promise.resolve(),X.then((()=>{X=null}))),X).then(p)):p())},invalidate(){g=!1},end(){d&&(f(),d=!1)}}}const ot="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function rt(t,e,n,r){const{fragment:c,after_update:a}=t.$$;c&&c.m(e,n),r||W((()=>{const e=t.$$.on_mount.map(o).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),a.forEach(W)}function it(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(M.push(t),V||(V=!0,U.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ct(e,n,o,s,c,a,l,d=[-1]){const u=R;D(e);const h=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:r(),dirty:d,skip_bound:!1,root:n.target||u.$$.root};l&&l(h.root);let f=!1;if(h.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),f&&st(e,t)),n})):[],h.update(),f=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(x)}else h.fragment&&h.fragment.c();n.intro&&tt(e.$$.fragment),rt(e,n.target,n.anchor,n.customElement),Y()}D(u)}let at;"function"==typeof HTMLElement&&(at=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(o).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){it(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class lt{$destroy(){it(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var dt,ut,ht,ft,pt;!function(t){t.NoAudioConsent="NoAudioConsent",t.NoBrowserSupport="NoBrowserSupport",t.Stopped="Stopped",t.Starting="Starting",t.Started="Started"}(dt||(dt={})),function(t){t.Started="started",t.Stopped="stopped",t.SegmentEnd="segment_end",t.Transcript="transcript",t.Entity="entity",t.Intent="intent",t.TentativeTranscript="tentative_transcript",t.TentativeEntities="tentative_entities",t.TentativeIntent="tentative_intent"}(ut||(ut={})),function(t){t.Opened="WEBSOCKET_OPEN",t.Closed="WEBSOCKET_CLOSED",t.AudioProcessorReady="SOURCE_SAMPLE_RATE_SET_SUCCESS",t.VadSignalHigh="VadSignalHigh",t.VadSignalLow="VadSignalLow",t.RequestContextStart="RequestContextStart"}(ht||(ht={})),function(t){t.connect="connect",t.initAudioProcessor="initAudioProcessor",t.adjustAudioProcessor="adjustAudioProcessor",t.SET_SHARED_ARRAY_BUFFERS="SET_SHARED_ARRAY_BUFFERS",t.CLOSE="CLOSE",t.START_CONTEXT="START_CONTEXT",t.SWITCH_CONTEXT="SWITCH_CONTEXT",t.STOP_CONTEXT="STOP_CONTEXT",t.AUDIO="AUDIO",t.startStream="startStream",t.stopStream="stopStream",t.setContextOptions="setContextOptions"}(ft||(ft={})),function(t){t[t.Failed=0]="Failed",t[t.Disconnected=1]="Disconnected",t[t.Connected=2]="Connected",t[t.Active=3]="Active"}(pt||(pt={})),new Map([[pt.Failed,"Failed"],[pt.Disconnected,"Disconnected"],[pt.Connected,"Connected"],[pt.Active,"Active"]]);for(var gt=[],mt=0;mt<256;++mt)gt.push((mt+256).toString(16).substr(1));var $t,yt,bt,vt,wt,xt,Tt,Et,St="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ct={exports:{}};function kt(t){return function(e,n){if(!e.hasOwnProperty("ownerDocument")){Object.defineProperty(e,"ownerDocument",{get:function(){return e.parentElement}});let t=e;for(;t.parentElement;)t=t.parentElement;e.parentElement.head=t}return t(e,n)}}function At(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function _t(t,{delay:e=0,speed:n,duration:o,easing:r=At}={}){let i=t.getTotalLength();const s=getComputedStyle(t);return"butt"!==s.strokeLinecap&&(i+=parseInt(s.strokeWidth)),void 0===o?o=void 0===n?800:i/n:"function"==typeof o&&(o=o(i)),{delay:e,duration:o,easing:r,css:(t,e)=>`\n\t\t\tstroke-dasharray: ${i};\n\t\t\tstroke-dashoffset: ${e*i};\n\t\t`}}
/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */
$t=Ct,yt=Ct.exports,function(t){var e=yt,n=$t&&$t.exports==e&&$t,o="object"==typeof St&&St;o.global!==o&&o.window!==o||(t=o);var r=function(t){this.message=t};(r.prototype=new Error).name="InvalidCharacterError";var i=function(t){throw new r(t)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,a={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&i("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,o,r,c=t.length%3,a="",l=-1,d=t.length-c;++l<d;)e=t.charCodeAt(l)<<16,n=t.charCodeAt(++l)<<8,o=t.charCodeAt(++l),a+=s.charAt((r=e+n+o)>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==c?(e=t.charCodeAt(l)<<8,n=t.charCodeAt(++l),a+=s.charAt((r=e+n)>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==c&&(r=t.charCodeAt(l),a+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(c,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&i("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,r=0,a="",l=-1;++l<e;)o=s.indexOf(t.charAt(l)),n=r%4?64*n+o:o,r++%4&&(a+=String.fromCharCode(255&n>>(-2*r&6)));return a},version:"0.1.0"};if(e&&!e.nodeType)if(n)n.exports=a;else for(var l in a)a.hasOwnProperty(l)&&(e[l]=a[l]);else t.base64=a}(St),function(t){t.SpeechlyFirstConnect="SpeechlyFirstConnect"}(bt||(bt={})),function(t){t.speechlypoweron="speechlypoweron",t.holdstart="holdstart",t.holdend="holdend",t.speechstate="speechstate",t.audiosourcestate="audiosourcestate",t.speechsegment="speechsegment",t.speechhandled="speechhandled",t.showhint="showhint",t.transcriptdrawerhint="hint",t.speechlyintroready="speechlyintroready",t.speechlyintroclosed="speechlyintroclosed",t.startcontext="startcontext",t.stopcontext="stopcontext",t.requeststartmicrophone="requeststartmicrophone"}(vt||(vt={})),function(t){t.Mic="mic",t.MicActive="micactive",t.Error="error",t.Denied="denied"}(wt||(wt={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(xt||(xt={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(Tt||(Tt={})),function(t){t.None="none",t.Whirl="whirl"}(Et||(Et={})),pt.Disconnected,pt.Connected,pt.Active,pt.Failed,dt.NoBrowserSupport,dt.NoAudioConsent;const Pt=[0,1];function Ot(t,e,n,o){if(e<n)return t[0];if(e>o)return t[t.length-1];let r=(o-n)/(t.length-1);if(r<=0)return t[0];let i=(e-n)/r,s=Math.floor(i),c=Math.ceil(i),a=i-s;return(1-a)*t[s]+a*t[c]}function Nt(t){!function(t,e,n){const o=y(t);if(!o.getElementById(e)){const t=T("style");t.id=e,t.textContent=n,v(o,t)}}(t,"svelte-1fz8oog","canvas.svelte-1fz8oog{display:block;width:1.35rem;height:1.5rem;margin:0;padding:0 0.8rem 0 0rem;flex-grow:0;flex-shrink:0;flex-basis:1.35rem}")}function Rt(e){let n;return{c(){n=T("canvas"),_(n,"color",e[0]),_(n,"display","block"),_(n,"width","1.35rem"),_(n,"height","1.5rem"),_(n,"margin","0"),_(n,"padding","0 0.8rem 0 0rem"),_(n,"flex-grow","0"),_(n,"flex-shrink","0"),_(n,"flex-basis","1.35rem"),A(n,"class","svelte-1fz8oog")},m(t,o){w(t,n,o),e[3](n)},p(t,[e]){1&e&&_(n,"color",t[0])},i:t,o:t,d(t){t&&x(n),e[3](null)}}}function Ft(t,e,n){let{color:o="#60e0ff"}=e;const r=(t,e)=>{s=Date.now()>c?t:Math.max(s,t),c=Date.now()+e};let i,s=0,c=0,a=[0,0];const l=(t,e,n,o,r,i)=>{o<2*i&&(i=o/2),r<2*i&&(i=r/2),t.beginPath(),t.moveTo(e+i,n),t.arcTo(e+o,n,e+o,n+r,i),t.arcTo(e+o,n+r,e,n+r,i),t.arcTo(e,n+r,e,n,i),t.arcTo(e,n,e+o,n,i),t.closePath()};var d;return d=()=>{let t;const e=2*(a.length-1)+1,o=3*e+1*(e-1),d=()=>{if(t=requestAnimationFrame(d),!i)return;const e=i.getContext("2d");if(!e)return;let r=(t=>{var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e})(e),u=Number.parseInt(getComputedStyle(i).getPropertyValue("width").slice(0,-2)),h=Number.parseInt(getComputedStyle(i).getPropertyValue("height").slice(0,-2));n(1,i.width=u*r,i),n(1,i.height=h*r,i),Date.now()<c?a[0]=.15*s+.85*a[0]:a[0]=.0625+.75*a[0];let f=1;for(;f<a.length;)a[f]=.25*a[f-1]+.5*a[f]+.0625,f++;e.clearRect(0,0,i.width,i.height);const p=3/o*i.width*.5,g=4/o*i.width;for(e.fillStyle=i.style.color||"#000000",f=0;f<a.length;f++){const t=a[f]*i.height;t*i.height>2*p?l(e,.5*i.width-p+f*g,.5*(i.height-t),2*p,t,p):(e.beginPath(),e.arc(.5*i.width+f*g,.5*i.height,t*i.height*.5,0,2*Math.PI)),e.fill(),f>0&&(t*i.height>2*p?l(e,.5*i.width-p-f*g,.5*(i.height-t),2*p,t,p):(e.beginPath(),e.arc(.5*i.width-f*g,.5*i.height,t*i.height*.5,0,2*Math.PI)),e.fill())}};return d(),r(1,500),()=>{cancelAnimationFrame(t)}},B().$$.on_mount.push(d),t.$$set=t=>{"color"in t&&n(0,o=t.color)},[o,i,r,function(t){L[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class zt extends lt{constructor(t){super(),ct(this,t,Ft,Rt,c,{color:0,updateVU:2},Nt)}get updateVU(){return this.$$.ctx[2]}}const It=[];function Dt(t){return"[object Date]"===Object.prototype.toString.call(t)}function Bt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Bt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Dt(t)&&Dt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),o={};return n.forEach((n=>{o[n]=Bt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=o[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Mt(o,r={}){const i=function(e,n=t){let o;const r=new Set;function i(t){if(c(e,t)&&(e=t,o)){const t=!It.length;for(const t of r)t[1](),It.push(t,e);if(t){for(let t=0;t<It.length;t+=2)It[t][0](It[t+1]);It.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,c=t){const a=[s,c];return r.add(a),1===r.size&&(o=n(i)||t),s(e),()=>{r.delete(a),0===r.size&&(o(),o=null)}}}}(o);let s,a=o;function l(t,c){if(null==o)return i.set(o=t),Promise.resolve();a=t;let l=s,d=!1,{delay:u=0,duration:f=400,easing:p=e,interpolate:g=Bt}=n(n({},r),c);if(0===f)return l&&(l.abort(),l=null),i.set(o=a),Promise.resolve();const $=h()+u;let y;return s=m((e=>{if(e<$)return!0;d||(y=g(o,t),"function"==typeof f&&(f=f(o,t)),d=!0),l&&(l.abort(),l=null);const n=e-$;return n>f?(i.set(o=t),!1):(i.set(o=y(p(n/f))),!0)})),s.promise}return{set:l,update:(t,e)=>l(t(a,o),e),subscribe:i.subscribe}}const{window:Lt}=ot;function jt(t,e,n){const o=t.slice();return o[42]=e[n],o[44]=n,o}function Ht(t){let e;return{c(){e=T("div"),A(e,"class","TransscriptItemBgDiv")},m(t,n){w(t,e,n)},d(t){t&&x(e)}}}function Ut(e){let n,o;return{c(){n=T("div"),n.textContent="Listening...",A(n,"class","listening")},m(t,e){w(t,n,e)},i(t){o||W((()=>{o=nt(n,e[21],{duration:400}),o.start()}))},o:t,d(t){t&&x(n)}}}function Vt(e){let n,o;return{c(){n=T("div"),A(n,"class","TransscriptItemBgDiv")},m(t,e){w(t,n,e)},p(t,n){e=t},i(t){o||W((()=>{o=nt(n,e[21],{duration:e[14]}),o.start()}))},o:t,d(t){t&&x(n)}}}function Wt(t){let e,n;return{c(){e=T("span"),A(e,"style",n=t[44]<t[11].length-1?"width:0.25em;":t[13]?"width:1.2em;":"")},m(t,n){w(t,e,n)},p(t,o){10240&o[0]&&n!==(n=t[44]<t[11].length-1?"width:0.25em;":t[13]?"width:1.2em;":"")&&A(e,"style",n)},d(t){t&&x(e)}}}function qt(e){let n,o,r,i,s,c,a,l=e[42].word+"",d=e[16]&&Vt(e),u=e[44]<e[11].length&&Wt(e);return{c(){n=T("div"),d&&d.c(),o=C(),r=T("div"),i=S(l),s=C(),u&&u.c(),A(r,"class","TransscriptItemContent"),A(n,"class",a="TranscriptItem "+e[23](e[42])),P(n,"Entity",null!==e[42].entityType),P(n,"Final",e[42].isFinal)},m(t,e){w(t,n,e),d&&d.m(n,null),$(n,o),$(n,r),$(r,i),$(r,s),u&&u.m(r,null)},p(t,s){(e=t)[16]?d?65536&s[0]&&tt(d,1):(d=Vt(e),d.c(),tt(d,1),d.m(n,o)):d&&(d.d(1),d=null),2048&s[0]&&l!==(l=e[42].word+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(i,l),e[44]<e[11].length?u?u.p(e,s):(u=Wt(e),u.c(),u.m(r,null)):u&&(u.d(1),u=null),2048&s[0]&&a!==(a="TranscriptItem "+e[23](e[42]))&&A(n,"class",a),2048&s[0]&&P(n,"Entity",null!==e[42].entityType),2048&s[0]&&P(n,"Final",e[42].isFinal)},i(t){tt(d),c||W((()=>{c=nt(r,e[21],{duration:e[14]}),c.start()}))},o:t,d(t){t&&x(n),d&&d.d(),u&&u.d()}}}function Xt(e){let n,o,r,i,s,c,a,l;return{c(){n=T("div"),o=T("div"),r=C(),i=T("div"),s=E("svg"),c=E("path"),A(o,"class","TransscriptItemBgDiv"),_(o,"background-color",e[5]),A(c,"stroke","currentColor"),A(c,"stroke-width","3"),A(c,"d","M7.191 11.444l4.059 6.107 7.376-12.949"),A(c,"fill","none"),A(c,"fill-rule","evenodd"),_(s,"width","2rem"),_(s,"height","2rem"),_(s,"position","absolute"),_(s,"transform","translate(-0.6rem, -0.5rem)"),_(s,"stroke","#eee"),A(s,"viewBox","0 0 24 24"),A(s,"xmlns","http://www.w3.org/2000/svg"),_(i,"width","1.0rem"),_(i,"height","1rem"),_(i,"position","relative"),A(n,"class","TranscriptItem")},m(t,e){w(t,n,e),$(n,o),$(n,r),$(n,i),$(i,s),$(s,c)},p(t,e){32&e[0]&&_(o,"background-color",t[5])},i(t){a||W((()=>{a=nt(c,e[20],{duration:500}),a.start()})),l||W((()=>{l=nt(n,e[21],{duration:200,maxWidth:3}),l.start()}))},o:t,d(t){t&&x(n)}}}function Kt(t){let e;return{c(){e=T("link"),A(e,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),A(e,"rel","stylesheet")},m(t,n){w(t,e,n)},d(t){t&&x(e)}}}function Yt(t){let e;return{c(){e=T("link"),A(e,"href",t[10]),A(e,"rel","stylesheet")},m(t,n){w(t,e,n)},p(t,n){1024&n[0]&&A(e,"href",t[10])},d(t){t&&x(e)}}}function Zt(e){let n,o,r,i,s,c,a,l,d,u,h,f,p,g,m,y=e[16]&&Ht(),b={color:e[5]};s=new zt({props:b}),e[34](s);let v=e[17]&&Ut(e),E=e[11],S=[];for(let t=0;t<E.length;t+=1)S[t]=qt(jt(e,E,t));let O=e[13]&&Xt(e),N=e[15]&&Kt(),R=void 0!==e[10]&&Yt(e);return{c(){var p;n=T("main"),o=T("div"),y&&y.c(),r=C(),i=T("div"),(p=s.$$.fragment)&&p.c(),c=C(),v&&v.c(),a=C();for(let t=0;t<S.length;t+=1)S[t].c();l=C(),O&&O.c(),d=C(),N&&N.c(),u=k(),h=C(),R&&R.c(),f=k(),this.c=t,A(i,"class","TransscriptItemContent"),A(o,"class","TranscriptItem"),A(n,"class","BigTranscript"),_(n,"--voffset",e[1]),_(n,"--hoffset",e[2]),_(n,"--fontsize",e[3]),_(n,"--color",e[4]),_(n,"--highlight-color",e[5]),_(n,"--text-bg-color",e[6]),_(n,"--gradient-stop1",e[7]),_(n,"--gradient-stop2",e[8]),_(n,"--marginbottom",e[9]),_(n,"--transition",e[18].transition),_(n,"opacity",e[18].transition),_(n,"max-height",10*Ot(Pt,e[18].transition,0,.6)+"rem"),_(n,"visibility",0!==e[18].transition?"visible":"hidden"),P(n,"placementTop","top"===e[0]),P(n,"defaultTypography",e[15])},m(t,b){w(t,n,b),$(n,o),y&&y.m(o,null),$(o,r),$(o,i),rt(s,i,null),$(i,c),v&&v.m(i,null),$(n,a);for(let t=0;t<S.length;t+=1)S[t].m(n,null);var x,T,E,C;$(n,l),O&&O.m(n,null),w(t,d,b),N&&N.m(document.head,null),$(document.head,u),w(t,h,b),R&&R.m(t,b),w(t,f,b),p=!0,g||(x=Lt,T="message",E=e[22],x.addEventListener(T,E,C),m=()=>x.removeEventListener(T,E,C),g=!0)},p(t,e){t[16]?y||(y=Ht(),y.c(),y.m(o,r)):y&&(y.d(1),y=null);const c={};if(32&e[0]&&(c.color=t[5]),s.$set(c),t[17]?v?131072&e[0]&&tt(v,1):(v=Ut(t),v.c(),tt(v,1),v.m(i,null)):v&&(v.d(1),v=null),8464384&e[0]){let o;for(E=t[11],o=0;o<E.length;o+=1){const r=jt(t,E,o);S[o]?(S[o].p(r,e),tt(S[o],1)):(S[o]=qt(r),S[o].c(),tt(S[o],1),S[o].m(n,l))}for(;o<S.length;o+=1)S[o].d(1);S.length=E.length}t[13]?O?(O.p(t,e),8192&e[0]&&tt(O,1)):(O=Xt(t),O.c(),tt(O,1),O.m(n,null)):O&&(O.d(1),O=null),(!p||2&e[0])&&_(n,"--voffset",t[1]),(!p||4&e[0])&&_(n,"--hoffset",t[2]),(!p||8&e[0])&&_(n,"--fontsize",t[3]),(!p||16&e[0])&&_(n,"--color",t[4]),(!p||32&e[0])&&_(n,"--highlight-color",t[5]),(!p||64&e[0])&&_(n,"--text-bg-color",t[6]),(!p||128&e[0])&&_(n,"--gradient-stop1",t[7]),(!p||256&e[0])&&_(n,"--gradient-stop2",t[8]),(!p||512&e[0])&&_(n,"--marginbottom",t[9]),(!p||262144&e[0])&&_(n,"--transition",t[18].transition),(!p||262144&e[0])&&_(n,"opacity",t[18].transition),(!p||262144&e[0])&&_(n,"max-height",10*Ot(Pt,t[18].transition,0,.6)+"rem"),(!p||262144&e[0])&&_(n,"visibility",0!==t[18].transition?"visible":"hidden"),(!p||1&e[0])&&P(n,"placementTop","top"===t[0]),(!p||32768&e[0])&&P(n,"defaultTypography",t[15]),t[15]?N||(N=Kt(),N.c(),N.m(u.parentNode,u)):N&&(N.d(1),N=null),void 0!==t[10]?R?R.p(t,e):(R=Yt(t),R.c(),R.m(f.parentNode,f)):R&&(R.d(1),R=null)},i(t){if(!p){tt(s.$$.fragment,t),tt(v);for(let t=0;t<E.length;t+=1)tt(S[t]);tt(O),p=!0}},o(t){!function(t,e,n,o){if(t&&t.o){if(J.has(t))return;J.add(t),Q.c.push((()=>{J.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}(s.$$.fragment,t),p=!1},d(t){t&&x(n),y&&y.d(),e[34](null),it(s),v&&v.d(),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(S,t),O&&O.d(),t&&x(d),N&&N.d(t),x(u),t&&x(h),R&&R.d(t),t&&x(f),g=!1,m()}}}const Gt=2e3,Jt=3500;function Qt(t,e,n){let o,r,i,s,c,a,l,u,{placement:h}=e,{voffset:f="3rem"}=e,{hoffset:p="2rem"}=e,{fontsize:g="1.5rem"}=e,{color:m="#ffffff"}=e,{highlightcolor:$="#15e8b5"}=e,{backgroundcolor:y="#202020"}=e,{gradientstop1:b="#ffffff88"}=e,{gradientstop2:v="#ffffffcc"}=e,{marginbottom:w="0rem"}=e,{formattext:x}=e,{demomode:T}=e,{customcssurl:E}=e,{customtypography:S}=e,C=[],k=null,A=null,_=pt.Disconnected,P=!1,O=!1,N=!1,R=Mt({transition:0},{duration:200});d(t,R,(t=>n(18,l=t)));const F=B(),z=kt(_t),I=kt(((t,{delay:e=0,duration:n=350,maxWidth:o=10})=>({delay:e,duration:n,css:t=>`\n        max-width: ${Ot(Pt,t,0,1)*o}rem;\n      `}))),D=t=>{n(13,N=N||t)},M=t=>{n(30,_=t),_===pt.Active&&(n(13,N=!1),n(11,C=[]),A=null)},j=t=>{if(void 0===t)return;u&&(s||_===pt.Active)&&u.updateVU(.5*Math.random()+.5,75*Math.random()+75),t.isFinal?H(C.length>0?s?Jt:Gt:0):C.length>0&&(P||n(31,P=!0),H(Gt));const e=`${t.contextId}/${t.id}`;null!==A?A!==e&&(n(13,N=!1),A=e):A=e,n(11,C=[]),t.words.forEach((t=>{n(11,C[t.index]={word:t.value,serialNumber:t.index,entityType:null,isFinal:t.isFinal,hide:!1},C)})),i?t.entities.forEach((t=>{n(11,C[t.startPosition].word=t.value,C),n(11,C[t.startPosition].entityType=t.type,C),n(11,C[t.startPosition].isFinal=t.isFinal,C),n(11,C[t.startPosition].hide=!1,C);for(let e=t.startPosition+1;e<t.endPosition;e++)C[e]&&n(11,C[e].hide=!0,C)})):t.entities.forEach((t=>{for(let e=t.startPosition;e<t.endPosition;e++)C[e]&&(n(11,C[e].entityType=t.type,C),n(11,C[e].isFinal=t.isFinal,C))})),n(11,C=C.filter((t=>!t.hide)))},H=(t=0)=>{U(),k=window.setTimeout((()=>{k=null,P&&n(31,P=!1)}),t)},U=()=>{null!==k&&(window.clearTimeout(k),k=null)};return t.$$set=t=>{"placement"in t&&n(0,h=t.placement),"voffset"in t&&n(1,f=t.voffset),"hoffset"in t&&n(2,p=t.hoffset),"fontsize"in t&&n(3,g=t.fontsize),"color"in t&&n(4,m=t.color),"highlightcolor"in t&&n(5,$=t.highlightcolor),"backgroundcolor"in t&&n(6,y=t.backgroundcolor),"gradientstop1"in t&&n(7,b=t.gradientstop1),"gradientstop2"in t&&n(8,v=t.gradientstop2),"marginbottom"in t&&n(9,w=t.marginbottom),"formattext"in t&&n(24,x=t.formattext),"demomode"in t&&n(25,T=t.demomode),"customcssurl"in t&&n(10,E=t.customcssurl),"customtypography"in t&&n(26,S=t.customtypography)},t.$$.update=()=>{if(2048&t.$$.dirty[0]&&n(17,o=0===C.length),64&t.$$.dirty[0]&&n(16,r="none"!==y),16777216&t.$$.dirty[0]&&(i=void 0===x||"false"!==x),33554432&t.$$.dirty[0]&&n(33,s=void 0!==T&&"false"!==T),67108864&t.$$.dirty[0]&&n(15,c=void 0===S||"false"===S),4&t.$$.dirty[1]&&n(14,a=s?800:350),1073741824&t.$$.dirty[0]|3&t.$$.dirty[1]){const t=_===pt.Active||P;t!==O&&(e="visibilitychanged",l=t,F.dispatchEvent(new CustomEvent(e,{detail:l,composed:!0}))),n(32,O=t),R.set({transition:O?1:0})}var e,l;4&t.$$.dirty[1]&&(s||H(0))},[h,f,p,g,m,$,y,b,v,w,E,C,u,N,a,c,r,o,l,R,z,I,t=>{switch(t.data.type){case vt.speechsegment:j(t.data.segment);break;case vt.speechhandled:D(t.data.success);break;case vt.speechstate:M(t.data.state)}},t=>t.entityType||"",x,T,S,D,M,j,_,P,O,s,function(t){L[t?"unshift":"push"]((()=>{u=t,n(12,u)}))}]}class te extends at{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{position:relative;user-select:none;display:flex;flex-direction:row;justify-content:start;flex-wrap:wrap;margin-bottom:calc(var(--marginbottom) * var(--transition));height:fit-content}.defaultTypography{font-family:'Saira Condensed', sans-serif;text-transform:uppercase;color:var(--color);font-size:var(--fontsize);line-height:135%}.TranscriptItem{position:relative;display:flex;flex-direction:row;align-items:center}.Entity{color:var(--highlight-color)}.TransscriptItemContent{z-index:1;display:flex;flex-wrap:nowrap;flex-direction:row;align-items:center;overflow:hidden;white-space:nowrap}.TransscriptItemBgDiv{position:absolute;box-sizing:content-box;width:100%;height:100%;top:-0.2rem;left:-0.8rem;margin:0;padding:0.2rem 0.8rem;background-color:var(--text-bg-color);z-index:-1}.placementTop{position:fixed;top:0;left:0;right:0;bottom:0;margin:var(--voffset) var(--hoffset) 0 var(--hoffset);z-index:50;pointer-events:none}.listening{animation:flow 1s linear infinite;background:linear-gradient(-60deg, var(--gradient-stop1), var(--gradient-stop2), var(--gradient-stop1), var(--gradient-stop2), var(--gradient-stop1));background-size:200%;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;-webkit-box-decoration-break:clone}@keyframes flow{0%{background-position:100% 50%}100%{background-position:0% 50%}}</style>",ct(this,{target:this.shadowRoot,props:O(this.attributes),customElement:!0},Qt,Zt,a,{placement:0,voffset:1,hoffset:2,fontsize:3,color:4,highlightcolor:5,backgroundcolor:6,gradientstop1:7,gradientstop2:8,marginbottom:9,formattext:24,demomode:25,customcssurl:10,customtypography:26,speechhandled:27,speechstate:28,speechsegment:29},null,[-1,-1]),t&&(t.target&&w(t.target,this,t.anchor),t.props&&(this.$set(t.props),Y()))}static get observedAttributes(){return["placement","voffset","hoffset","fontsize","color","highlightcolor","backgroundcolor","gradientstop1","gradientstop2","marginbottom","formattext","demomode","customcssurl","customtypography","speechhandled","speechstate","speechsegment"]}get placement(){return this.$$.ctx[0]}set placement(t){this.$$set({placement:t}),Y()}get voffset(){return this.$$.ctx[1]}set voffset(t){this.$$set({voffset:t}),Y()}get hoffset(){return this.$$.ctx[2]}set hoffset(t){this.$$set({hoffset:t}),Y()}get fontsize(){return this.$$.ctx[3]}set fontsize(t){this.$$set({fontsize:t}),Y()}get color(){return this.$$.ctx[4]}set color(t){this.$$set({color:t}),Y()}get highlightcolor(){return this.$$.ctx[5]}set highlightcolor(t){this.$$set({highlightcolor:t}),Y()}get backgroundcolor(){return this.$$.ctx[6]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),Y()}get gradientstop1(){return this.$$.ctx[7]}set gradientstop1(t){this.$$set({gradientstop1:t}),Y()}get gradientstop2(){return this.$$.ctx[8]}set gradientstop2(t){this.$$set({gradientstop2:t}),Y()}get marginbottom(){return this.$$.ctx[9]}set marginbottom(t){this.$$set({marginbottom:t}),Y()}get formattext(){return this.$$.ctx[24]}set formattext(t){this.$$set({formattext:t}),Y()}get demomode(){return this.$$.ctx[25]}set demomode(t){this.$$set({demomode:t}),Y()}get customcssurl(){return this.$$.ctx[10]}set customcssurl(t){this.$$set({customcssurl:t}),Y()}get customtypography(){return this.$$.ctx[26]}set customtypography(t){this.$$set({customtypography:t}),Y()}get speechhandled(){return this.$$.ctx[27]}get speechstate(){return this.$$.ctx[28]}get speechsegment(){return this.$$.ctx[29]}}customElements.get("big-transcript")?console.warn("Skipping re-defining customElement big-transcript"):customElements.define("big-transcript",te)}));
//# sourceMappingURL=big-transcript.js.map
