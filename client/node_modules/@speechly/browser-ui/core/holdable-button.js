!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e}function c(t){return 0===Object.keys(t).length}function a(t,e){t.appendChild(e)}function d(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=f("style");t.id=e,t.textContent=n,function(t,e){a(t.head||t,e),e.sheet}(o,t)}}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function g(){return p(" ")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function x(t,e,n){t.classList[n?"add":"remove"](e)}function w(t){const e={};for(const n of t)e[n.name]=n.value;return e}let y;function b(t){y=t}function k(){if(!y)throw new Error("Function called outside component initialization");return y}const E=[],S=[],C=[],A=[],_=Promise.resolve();let z=!1;function T(t){C.push(t)}const M=new Set;let N=0;function O(){if(0!==N)return;const t=y;do{try{for(;N<E.length;){const t=E[N];N++,b(t),R(t.$$)}}catch(t){throw E.length=0,N=0,t}for(b(null),E.length=0,N=0;S.length;)S.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];M.has(e)||(M.add(e),e())}C.length=0}while(E.length);for(;A.length;)A.pop()();z=!1,M.clear(),b(t)}function R(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const F=new Set;let D;function L(t,e){t&&t.i&&(F.delete(t),t.i(e))}function B(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),D.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const P="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function I(t){t&&t.c()}function V(t,n,i,s){const{fragment:c,after_update:a}=t.$$;c&&c.m(n,i),s||T((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(T)}function H(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(E.push(t),z||(z=!0,_.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(e,r,i,s,c,a,d,l=[-1]){const f=y;b(e);const h=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:r.target||f.$$.root};d&&d(h.root);let p=!1;if(h.ctx=i?i(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&j(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();r.intro&&L(e.$$.fragment),V(e,r.target,r.anchor,r.customElement),O()}b(f)}let q;"function"==typeof HTMLElement&&(q=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){H(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class W{$destroy(){H(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(t){d(t,"svelte-1mwhwtl",".Frame.svelte-1mwhwtl{position:absolute;width:100%;height:100%;top:50%;left:50%;transform-origin:50% 50%;transform:translate(-50%, -50%) rotate(var(--fx-rotation));transition:width 0.1s, height 0.1s;pointer-events:none;user-select:none}")}function G(e){let n,o,r,i,s,c,d;return{c(){n=h("svg"),o=h("defs"),r=h("linearGradient"),i=h("stop"),s=h("stop"),c=h("circle"),d=h("circle"),m(i,"stop-color","var(--gradient-stop1)"),m(i,"offset","0%"),m(s,"stop-color","var(--gradient-stop2)"),m(s,"offset","100%"),m(r,"x1","50%"),m(r,"y1","0%"),m(r,"x2","50%"),m(r,"y2","100%"),m(r,"id","a"),m(c,"cx","46"),m(c,"cy","46"),m(c,"r",e[0]),m(c,"stroke","none"),m(c,"fill","var(--frame-background)"),m(d,"cx","46"),m(d,"cy","46"),m(d,"r",e[0]),m(d,"stroke","url(#a)"),m(d,"stroke-width","var(--frame-stroke-width)"),m(d,"fill","none"),m(n,"class","Frame svelte-1mwhwtl"),m(n,"viewBox","0 0 92 92"),m(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){l(t,n,e),a(n,o),a(o,r),a(r,i),a(r,s),a(n,c),a(n,d)},p(t,[e]){1&e&&m(c,"r",t[0]),1&e&&m(d,"r",t[0])},i:t,o:t,d(t){t&&u(n)}}}function K(t,e,n){let{frameRadius:o=46}=e;return t.$$set=t=>{"frameRadius"in t&&n(0,o=t.frameRadius)},[o]}class Y extends W{constructor(t){super(),U(this,t,K,G,i,{frameRadius:0},X)}}var Z,J,Q,tt,et;!function(t){t.NoAudioConsent="NoAudioConsent",t.NoBrowserSupport="NoBrowserSupport",t.Stopped="Stopped",t.Starting="Starting",t.Started="Started"}(Z||(Z={})),function(t){t.Started="started",t.Stopped="stopped",t.SegmentEnd="segment_end",t.Transcript="transcript",t.Entity="entity",t.Intent="intent",t.TentativeTranscript="tentative_transcript",t.TentativeEntities="tentative_entities",t.TentativeIntent="tentative_intent"}(J||(J={})),function(t){t.Opened="WEBSOCKET_OPEN",t.Closed="WEBSOCKET_CLOSED",t.AudioProcessorReady="SOURCE_SAMPLE_RATE_SET_SUCCESS",t.VadSignalHigh="VadSignalHigh",t.VadSignalLow="VadSignalLow",t.RequestContextStart="RequestContextStart"}(Q||(Q={})),function(t){t.connect="connect",t.initAudioProcessor="initAudioProcessor",t.adjustAudioProcessor="adjustAudioProcessor",t.SET_SHARED_ARRAY_BUFFERS="SET_SHARED_ARRAY_BUFFERS",t.CLOSE="CLOSE",t.START_CONTEXT="START_CONTEXT",t.SWITCH_CONTEXT="SWITCH_CONTEXT",t.STOP_CONTEXT="STOP_CONTEXT",t.AUDIO="AUDIO",t.startStream="startStream",t.stopStream="stopStream",t.setContextOptions="setContextOptions"}(tt||(tt={})),function(t){t[t.Failed=0]="Failed",t[t.Disconnected=1]="Disconnected",t[t.Connected=2]="Connected",t[t.Active=3]="Active"}(et||(et={})),new Map([[et.Failed,"Failed"],[et.Disconnected,"Disconnected"],[et.Connected,"Connected"],[et.Active,"Active"]]);for(var nt=[],ot=0;ot<256;++ot)nt.push((ot+256).toString(16).substr(1));var rt,it,st,ct,at,dt,lt,ut,ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ht={exports:{}};
/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */
rt=ht,it=ht.exports,function(t){var e=it,n=rt&&rt.exports==e&&rt,o="object"==typeof ft&&ft;o.global!==o&&o.window!==o||(t=o);var r=function(t){this.message=t};(r.prototype=new Error).name="InvalidCharacterError";var i=function(t){throw new r(t)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,a={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&i("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,o,r,c=t.length%3,a="",d=-1,l=t.length-c;++d<l;)e=t.charCodeAt(d)<<16,n=t.charCodeAt(++d)<<8,o=t.charCodeAt(++d),a+=s.charAt((r=e+n+o)>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==c?(e=t.charCodeAt(d)<<8,n=t.charCodeAt(++d),a+=s.charAt((r=e+n)>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==c&&(r=t.charCodeAt(d),a+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(c,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&i("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,r=0,a="",d=-1;++d<e;)o=s.indexOf(t.charAt(d)),n=r%4?64*n+o:o,r++%4&&(a+=String.fromCharCode(255&n>>(-2*r&6)));return a},version:"0.1.0"};if(e&&!e.nodeType)if(n)n.exports=a;else for(var d in a)a.hasOwnProperty(d)&&(e[d]=a[d]);else t.base64=a}(ft),function(t){t.SpeechlyFirstConnect="SpeechlyFirstConnect"}(st||(st={})),function(t){t.speechlypoweron="speechlypoweron",t.holdstart="holdstart",t.holdend="holdend",t.speechstate="speechstate",t.audiosourcestate="audiosourcestate",t.speechsegment="speechsegment",t.speechhandled="speechhandled",t.showhint="showhint",t.transcriptdrawerhint="hint",t.speechlyintroready="speechlyintroready",t.speechlyintroclosed="speechlyintroclosed",t.startcontext="startcontext",t.stopcontext="stopcontext",t.requeststartmicrophone="requeststartmicrophone"}(ct||(ct={})),function(t){t.Mic="mic",t.MicActive="micactive",t.Error="error",t.Denied="denied"}(at||(at={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(dt||(dt={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(lt||(lt={})),function(t){t.None="none",t.Whirl="whirl"}(ut||(ut={}));const pt={[et.Disconnected]:{icon:"mic",behaviour:"click",effect:"none",triggerFx:"whirl"},[et.Connected]:{icon:"mic",behaviour:"hold",effect:"none",triggerFx:"whirl"},[et.Active]:{icon:"micactive",behaviour:"hold",effect:"none"},[et.Failed]:{icon:"error",behaviour:"click",effect:"none"},[Z.NoBrowserSupport]:{icon:"error",behaviour:"click",effect:"none"},[Z.NoAudioConsent]:{icon:"denied",behaviour:"click",effect:"none"}};function gt(t){d(t,"svelte-s2u2hd",".Icon.svelte-s2u2hd{position:absolute;width:var(--icon-size);height:var(--icon-size);top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;transition:0.25s;opacity:var(--icon-opacity)}")}function $t(t){let e,n,o,r,i,s,c,d,f,g,$,v,x;return{c(){e=h("svg"),n=h("linearGradient"),o=h("animate"),r=h("animate"),i=h("stop"),s=h("stop"),c=h("stop"),d=h("stop"),f=h("stop"),g=p(">\n  "),$=h("g"),v=h("path"),x=h("rect"),m(o,"attributeName","y1"),m(o,"values","-200%; 0%;"),m(o,"dur","2s"),m(o,"repeatCount","indefinite"),m(r,"attributeName","y2"),m(r,"values","200%; 400%;"),m(r,"dur","2s"),m(r,"repeatCount","indefinite"),m(i,"offset","0%"),m(i,"stop-color","var(--gradient-stop1)"),m(s,"offset","25%"),m(s,"stop-color","var(--gradient-stop2)"),m(c,"offset","50%"),m(c,"stop-color","var(--gradient-stop1)"),m(d,"offset","75%"),m(d,"stop-color","var(--gradient-stop2)"),m(f,"offset","100%"),m(f,"stop-color","var(--gradient-stop1)"),m(n,"id","gradient"),m(n,"x1","50%"),m(n,"y1","-200%"),m(n,"x2","50%"),m(n,"y2","200%"),m(v,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(x,"x","20"),m(x,"y","1"),m(x,"width","16"),m(x,"height","37"),m(x,"rx","8"),m($,"fill","url(#gradient)"),m($,"fill-rule","evenodd"),m(e,"class","Icon svelte-s2u2hd"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,u){l(t,e,u),a(e,n),a(n,o),a(n,r),a(n,i),a(n,s),a(n,c),a(n,d),a(n,f),a(e,g),a(e,$),a($,v),a($,x)},d(t){t&&u(e)}}}function mt(t){let e,n,o,r;return{c(){e=h("svg"),n=h("g"),o=h("path"),r=h("rect"),m(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(r,"x","20"),m(r,"y","1"),m(r,"width","16"),m(r,"height","37"),m(r,"rx","8"),m(n,"fill","var(--icon-color)"),m(n,"fill-rule","evenodd"),m(e,"class","Icon svelte-s2u2hd"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){l(t,e,i),a(e,n),a(n,o),a(n,r)},d(t){t&&u(e)}}}function vt(t){let e,n,o,r;return{c(){e=h("svg"),n=h("g"),o=h("path"),r=h("path"),m(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(o,"fill-rule","nonzero"),m(r,"d","M37 13.081V31a8 8 0 11-16 0v-1.919l16-16zM26 1a8 8 0 018 8v1.319L18 26.318V9a8 8 0 018-8zM37.969 7.932l3.74-7.35 3.018 2.625zM39.654 10.608l7.531-3.359.695 3.94z"),m(n,"fill","var(--icon-color)"),m(n,"fill-rule","evenodd"),m(e,"class","Icon svelte-s2u2hd"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){l(t,e,i),a(e,n),a(n,o),a(n,r)},d(t){t&&u(e)}}}function xt(t){let e,n,o,r;return{c(){e=h("svg"),n=h("g"),o=h("path"),r=h("path"),m(o,"d","M36 14.828V30a8 8 0 01-15.961.79l15.96-15.962zM28 1a8 8 0 018 8v.172L20 25.173V9a8 8 0 018-8z"),m(r,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(n,"fill","var(--icon-color)"),m(n,"fill-rule","nonzero"),m(e,"class","Icon svelte-s2u2hd"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,i){l(t,e,i),a(e,n),a(n,o),a(n,r)},d(t){t&&u(e)}}}function wt(e){let n,o,r,i,s=e[0]===at.MicActive&&$t(),c=e[0]===at.Mic&&mt(),a=e[0]===at.Error&&vt(),d=e[0]===at.Denied&&xt();return{c(){s&&s.c(),n=g(),c&&c.c(),o=g(),a&&a.c(),r=g(),d&&d.c(),i=p("")},m(t,e){s&&s.m(t,e),l(t,n,e),c&&c.m(t,e),l(t,o,e),a&&a.m(t,e),l(t,r,e),d&&d.m(t,e),l(t,i,e)},p(t,[e]){t[0]===at.MicActive?s||(s=$t(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),t[0]===at.Mic?c||(c=mt(),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),t[0]===at.Error?a||(a=vt(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),t[0]===at.Denied?d||(d=xt(),d.c(),d.m(i.parentNode,i)):d&&(d.d(1),d=null)},i:t,o:t,d(t){s&&s.d(t),t&&u(n),c&&c.d(t),t&&u(o),a&&a.d(t),t&&u(r),d&&d.d(t),t&&u(i)}}}function yt(t,e,n){let{icon:o=at.Mic}=e;return t.$$set=t=>{"icon"in t&&n(0,o=t.icon)},[o]}class bt extends W{constructor(t){super(),U(this,t,yt,wt,i,{icon:0},gt)}}function kt(t){d(t,"svelte-1fpkb0k",".Fx.svelte-1fpkb0k{position:absolute;width:var(--fx-size);height:var(--fx-size);top:50%;left:50%;transform-origin:50% 50%;transform:translate(-50%, -50%) rotate(var(--fx-rotation));pointer-events:none;opacity:var(--fx-opacity)}")}function Et(e){let n,o,r,i,s,c,d,f;return{c(){n=h("svg"),o=h("defs"),r=h("linearGradient"),i=h("stop"),s=h("stop"),c=h("filter"),d=h("feGaussianBlur"),f=h("circle"),m(i,"stop-color","var(--fx-gradient-stop1)"),m(i,"offset","0%"),m(s,"stop-color","var(--fx-gradient-stop2)"),m(s,"offset","100%"),m(r,"x1","50%"),m(r,"y1","10%"),m(r,"x2","50%"),m(r,"y2","100%"),m(r,"id","a"),m(d,"stdDeviation","18"),m(d,"in","SourceGraphic"),m(c,"x","-35%"),m(c,"y","-35%"),m(c,"width","170%"),m(c,"height","170%"),m(c,"filterUnits","objectBoundingBox"),m(c,"id","b"),m(f,"filter","url(#b)"),m(f,"cx","124"),m(f,"cy","124"),m(f,"r","79"),m(f,"fill","url(#a)"),m(f,"fillrule","evenodd"),m(n,"class","Fx svelte-1fpkb0k"),m(n,"viewBox","0 0 246 246"),m(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){l(t,n,e),a(n,o),a(o,r),a(r,i),a(r,s),a(o,c),a(c,d),a(n,f)},p:t,i:t,o:t,d(t){t&&u(n)}}}class St extends W{constructor(t){super(),U(this,t,null,Et,i,{},kt)}}const{window:Ct}=P;function At(t){let e;return{c(){e=f("link"),m(e,"href",t[9]),m(e,"rel","stylesheet")},m(t,n){l(t,e,n)},p(t,n){512&n[0]&&m(e,"href",t[9])},d(t){t&&u(e)}}}function _t(e){let n,r,i,s,c,d,h,p,w,y,b,k,E=void 0!==e[9]&&At(e);return i=new St({}),c=new Y({props:{frameRadius:e[16]}}),h=new bt({props:{icon:e[15].icon}}),{c(){E&&E.c(),n=g(),r=f("main"),I(i.$$.fragment),s=g(),I(c.$$.fragment),d=g(),I(h.$$.fragment),p=g(),w=f("slot"),this.c=t,m(r,"class","HoldableButton"),v(r,"width",e[0]),v(r,"height",e[0]),v(r,"--gradient-stop1",e[5]),v(r,"--gradient-stop2",e[6]),v(r,"--fx-gradient-stop1",e[7]||e[5]),v(r,"--fx-gradient-stop2",e[8]||e[6]),v(r,"--fx-rotation",e[11][1]+"deg"),v(r,"--fx-opacity",e[14][1]),v(r,"--fx-size",e[2]),v(r,"--icon-opacity",e[13][1]),v(r,"--icon-size",e[1]),v(r,"--icon-color",e[4]),v(r,"--frame-stroke-width",e[17]),v(r,"--frame-background",e[3]),v(r,"transform","scale("+e[12][1]+")"),x(r,"pressed",e[10])},m(t,o){E&&E.m(t,o),l(t,n,o),l(t,r,o),V(i,r,null),a(r,s),V(c,r,null),a(r,d),V(h,r,null),a(r,p),a(r,w),y=!0,b||(k=[$(Ct,"mouseup",e[19]),$(Ct,"keydown",e[20]),$(Ct,"keyup",e[21]),$(r,"mousedown",e[18]),$(r,"touchstart",e[18]),$(r,"dragstart",e[18]),$(r,"mouseup",e[19]),$(r,"touchend",e[19],{passive:!0}),$(r,"dragend",e[19])],b=!0)},p(t,e){void 0!==t[9]?E?E.p(t,e):(E=At(t),E.c(),E.m(n.parentNode,n)):E&&(E.d(1),E=null);const o={};65536&e[0]&&(o.frameRadius=t[16]),c.$set(o);const i={};32768&e[0]&&(i.icon=t[15].icon),h.$set(i),(!y||1&e[0])&&v(r,"width",t[0]),(!y||1&e[0])&&v(r,"height",t[0]),(!y||32&e[0])&&v(r,"--gradient-stop1",t[5]),(!y||64&e[0])&&v(r,"--gradient-stop2",t[6]),(!y||160&e[0])&&v(r,"--fx-gradient-stop1",t[7]||t[5]),(!y||320&e[0])&&v(r,"--fx-gradient-stop2",t[8]||t[6]),(!y||2048&e[0])&&v(r,"--fx-rotation",t[11][1]+"deg"),(!y||16384&e[0])&&v(r,"--fx-opacity",t[14][1]),(!y||4&e[0])&&v(r,"--fx-size",t[2]),(!y||8192&e[0])&&v(r,"--icon-opacity",t[13][1]),(!y||2&e[0])&&v(r,"--icon-size",t[1]),(!y||16&e[0])&&v(r,"--icon-color",t[4]),(!y||131072&e[0])&&v(r,"--frame-stroke-width",t[17]),(!y||8&e[0])&&v(r,"--frame-background",t[3]),(!y||4096&e[0])&&v(r,"transform","scale("+t[12][1]+")"),(!y||1024&e[0])&&x(r,"pressed",t[10])},i(t){y||(L(i.$$.fragment,t),L(c.$$.fragment,t),L(h.$$.fragment,t),y=!0)},o(t){B(i.$$.fragment,t),B(c.$$.fragment,t),B(h.$$.fragment,t),y=!1},d(t){E&&E.d(t),t&&u(n),t&&u(r),H(i),H(c),H(h),b=!1,o(k)}}}function zt(t,e,n){let o,r,i,s,{icon:c=et.Disconnected}=e,{capturekey:a=" "}=e,{hide:d}=e,{size:l="80px"}=e,{holdscale:u="1.35"}=e,{borderscale:f="0.075"}=e,{iconsize:h="60%"}=e,{fxsize:p="250%"}=e,{backgroundcolor:g="#ffffff"}=e,{iconcolor:$="#000000"}=e,{gradientstop1:m="#15e8b5"}=e,{gradientstop2:v="#4fa1f9"}=e,{fxgradientstop1:x}=e,{fxgradientstop2:w}=e,{customcssurl:y}=e;let b=!1,E=0,S=[0,0],C=[0,0],A=[1,1],_=[0,0],z=pt[c],T=null,M=0,N=0;const O=k(),R=(t,e)=>{O.dispatchEvent(new CustomEvent(t,{detail:e,composed:!0}))};var F;F=()=>{n(12,C=[1,0]);let t=null;const e=()=>{M=N,N=(new Date).getTime();const r=N-(M||N);z.effect===lt.Connecting&&n(13,A[0]=.25*Math.cos(N/2500*Math.PI*2)+.25,A),z.effect===lt.Busy&&n(13,A[0]=.25*Math.cos(N/1e3*Math.PI*2)+.25,A),n(12,C=[C[0],B(C[1],o?C[0]:0,.2,r)]),n(13,A=[A[0],B(A[1],A[0],.08,r)]),n(14,_=[_[0],B(_[1],_[0],.08,r)]),n(11,S=[S[0]+2.5,B(S[1],S[0],.05,r)]),t=requestAnimationFrame(e)};return e(),()=>cancelAnimationFrame(t)},k().$$.on_mount.push(F);const D=t=>{t.preventDefault(),t.stopPropagation(),o&&!b&&(n(10,b=!0),E=Date.now(),P(),z.triggerFx===ut.Whirl&&n(11,S[0]+=720,S),z.behaviour===dt.Click&&null===T&&(T=window.setTimeout((()=>{n(14,_[0]=0,_),T=null}),500)),O.onholdstart&&O.onholdstart(),R(ct.holdstart))},L=()=>{if(b){n(10,b=!1);const t={timeMs:Date.now()-E};P(),null!==T&&window.clearTimeout(T),O.onholdend&&O.onholdend(t),R("holdend",t)}},B=(t,e,n,o)=>t*(1-(n=Math.pow(n,1e3/60/o)))+e*n,P=(t=5)=>{void 0!==navigator.vibrate&&navigator.vibrate(t)};return t.$$set=t=>{"icon"in t&&n(22,c=t.icon),"capturekey"in t&&n(23,a=t.capturekey),"hide"in t&&n(24,d=t.hide),"size"in t&&n(0,l=t.size),"holdscale"in t&&n(25,u=t.holdscale),"borderscale"in t&&n(26,f=t.borderscale),"iconsize"in t&&n(1,h=t.iconsize),"fxsize"in t&&n(2,p=t.fxsize),"backgroundcolor"in t&&n(3,g=t.backgroundcolor),"iconcolor"in t&&n(4,$=t.iconcolor),"gradientstop1"in t&&n(5,m=t.gradientstop1),"gradientstop2"in t&&n(6,v=t.gradientstop2),"fxgradientstop1"in t&&n(7,x=t.fxgradientstop1),"fxgradientstop2"in t&&n(8,w=t.fxgradientstop2),"customcssurl"in t&&n(9,y=t.customcssurl)},t.$$.update=()=>{16777216&t.$$.dirty[0]&&(o=void 0===d||"false"===d),67108864&t.$$.dirty[0]&&n(17,r=""+46*f),67108864&t.$$.dirty[0]&&n(16,i=46-23*f),33554432&t.$$.dirty[0]&&(s=u),4195328&t.$$.dirty[0]&&((t,e)=>{switch(n(15,z=pt[e]),n(12,C[0]=t?s:1,C),n(14,_[0]=t||e==et.Active?1:0,_),z.icon){case at.MicActive:case at.Mic:case at.Denied:case at.Error:n(13,A[0]=1,A)}})(b,c)},[l,h,p,g,$,m,v,x,w,y,b,S,C,A,_,z,i,r,D,L,t=>{a&&(t.key===a&&(document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||null||(t.repeat?(t.preventDefault(),t.stopPropagation()):D(t))))},t=>{t.key===a&&L()},c,a,d,u,f,()=>b]}class Tt extends q{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{text-align:left;position:relative;pointer-events:auto;cursor:pointer;border-radius:50%;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none !important;-webkit-user-select:none !important}</style>",U(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},zt,_t,s,{icon:22,capturekey:23,hide:24,size:0,holdscale:25,borderscale:26,iconsize:1,fxsize:2,backgroundcolor:3,iconcolor:4,gradientstop1:5,gradientstop2:6,fxgradientstop1:7,fxgradientstop2:8,customcssurl:9,isbuttonpressed:27},null,[-1,-1]),t&&(t.target&&l(t.target,this,t.anchor),t.props&&(this.$set(t.props),O()))}static get observedAttributes(){return["icon","capturekey","hide","size","holdscale","borderscale","iconsize","fxsize","backgroundcolor","iconcolor","gradientstop1","gradientstop2","fxgradientstop1","fxgradientstop2","customcssurl","isbuttonpressed"]}get icon(){return this.$$.ctx[22]}set icon(t){this.$$set({icon:t}),O()}get capturekey(){return this.$$.ctx[23]}set capturekey(t){this.$$set({capturekey:t}),O()}get hide(){return this.$$.ctx[24]}set hide(t){this.$$set({hide:t}),O()}get size(){return this.$$.ctx[0]}set size(t){this.$$set({size:t}),O()}get holdscale(){return this.$$.ctx[25]}set holdscale(t){this.$$set({holdscale:t}),O()}get borderscale(){return this.$$.ctx[26]}set borderscale(t){this.$$set({borderscale:t}),O()}get iconsize(){return this.$$.ctx[1]}set iconsize(t){this.$$set({iconsize:t}),O()}get fxsize(){return this.$$.ctx[2]}set fxsize(t){this.$$set({fxsize:t}),O()}get backgroundcolor(){return this.$$.ctx[3]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),O()}get iconcolor(){return this.$$.ctx[4]}set iconcolor(t){this.$$set({iconcolor:t}),O()}get gradientstop1(){return this.$$.ctx[5]}set gradientstop1(t){this.$$set({gradientstop1:t}),O()}get gradientstop2(){return this.$$.ctx[6]}set gradientstop2(t){this.$$set({gradientstop2:t}),O()}get fxgradientstop1(){return this.$$.ctx[7]}set fxgradientstop1(t){this.$$set({fxgradientstop1:t}),O()}get fxgradientstop2(){return this.$$.ctx[8]}set fxgradientstop2(t){this.$$set({fxgradientstop2:t}),O()}get customcssurl(){return this.$$.ctx[9]}set customcssurl(t){this.$$set({customcssurl:t}),O()}get isbuttonpressed(){return this.$$.ctx[27]}}customElements.get("holdable-button")?console.warn("Skipping re-defining customElement holdable-button"):customElements.define("holdable-button",Tt)}));
//# sourceMappingURL=holdable-button.js.map
